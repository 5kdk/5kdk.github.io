---
title: useMemo, useCallbackìœ¼ë¡œ ìµœì í™”ê°€ ê¼­ í•„ìš”í• ê¹Œ?
authors: 5kdk
tags: [React]
enableComments: true
---

`useCallback`ê³¼ `useMemo`ëŠ” ë¦¬ì•¡íŠ¸ì˜ ìµœì í™”ë¥¼ ë„ì™€ì£¼ëŠ” Hookë“¤ì…ë‹ˆë‹¤. ì„±ëŠ¥ ê°œì„ ì„ ìœ„í•´ ì‚¬ìš©ë˜ì§€ë§Œ, ê¼­ í•„ìš”í•œ ê²½ìš°ì—ë§Œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.

> **useCallback**
>
> `useCallback`ì€ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ì™€ ê°™ì€ í•¨ìˆ˜ë¥¼ ë©”ëª¨ì´ì œì´ì…˜(memorization)í•  ë•Œ ì‚¬ìš©ë˜ëŠ” Hookì…ë‹ˆë‹¤. ì»´í¬ë„ŒíŠ¸ê°€ ë¦¬ë Œë”ë§ë  ë•Œë§ˆë‹¤ í•¨ìˆ˜ë¥¼ ìƒˆë¡œ ìƒì„±í•˜ëŠ” ê²ƒì„ ë°©ì§€í•˜ê³ , ì´ì „ì— ìƒì„±í•œ í•¨ìˆ˜ë¥¼ ì¬ì‚¬ìš©í•˜ì—¬ ë¶ˆí•„ìš”í•œ ë Œë”ë§ì„ ì¤„ì—¬ì¤ë‹ˆë‹¤.

> **useMemo**
>
> `useMemo`ëŠ” ë Œë”ë§ ì¤‘ì— ë°œìƒí•˜ëŠ” ì—°ì‚°ëŸ‰ì´ í° í•¨ìˆ˜ì˜ ê²°ê³¼ê°’ì„ ë©”ëª¨ì´ì œì´ì…˜í•˜ë©°, ì´ì „ ê²°ê³¼ê°’ì„ ì¬ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì¤ë‹ˆë‹¤.

<!--truncate-->

---

## ë‚¨ìš©í•˜ì§€ ë§ì•„ì•¼í•  ì´ìœ 

`useCallback`ê³¼ `useMemo`ëŠ” ì„±ëŠ¥ ìµœì í™”ì˜ ëª©ì ìœ¼ë¡œ ì‚¬ìš©ë˜ê¸´ í•˜ì§€ë§Œ, ë¬´ë¶„ë³„í•˜ê²Œ ì‚¬ìš©í•  ê²½ìš° ì˜¤íˆë ¤ ì„±ëŠ¥ ì €í•˜ë¥¼ ì´ˆë˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

1. **ë©”ëª¨ì´ì œì´ì…˜ ìì²´ì˜ ë¹„ìš©**: ì´ ë‘ Hookì„ ì‚¬ìš©í•˜ë©´ í•¨ìˆ˜ì™€ ê³„ì‚° ê²°ê³¼ë¥¼ ìºì‹±í•˜ê¸° ìœ„í•œ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì´ ëŠ˜ì–´ë‚©ë‹ˆë‹¤. ê²Œë‹¤ê°€, ìƒˆë¡­ê²Œ ê³„ì‚°ë˜ëŠ” ê°’ì´ ì¼ì • ê¸°ê°„ë™ì•ˆ ì‚¬ìš©ë˜ì§€ ì•Šì•„ë„ ë©”ëª¨ë¦¬ì— ë‚¨ì•„ ìˆì–´ì•¼ í•˜ë¯€ë¡œ ë©”ëª¨ë¦¬ ê´€ë¦¬ì˜ ì¸¡ë©´ì—ì„œ ë¹„íš¨ìœ¨ì ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.(ê°€ë¹„ì§€ ì»¬ë ‰í„°ê°€ ë¬´ì‹œ)

2. **ì˜ì¡´ì„± ë°°ì—´ì˜ ê´€ë¦¬**: `useCallback`ê³¼ `useMemo`ëŠ” ì˜ì¡´ì„± ë°°ì—´ì´ í•„ìš”í•œë°, ì´ ë°°ì—´ì— ë“¤ì–´ê°„ ê°’ë“¤ì´ ë³€ê²½ë  ë•Œë§ˆë‹¤ ë©”ëª¨ì´ì œì´ì…˜ëœ ê°’ì„ ë¬´íš¨í™”í•˜ê³  ìƒˆë¡œ ê³„ì‚°í•©ë‹ˆë‹¤. ì´ ê³¼ì •ì—ì„œ ë³µì¡ì„±ì´ ì¦ê°€í•˜ë©°, ê´€ë¦¬ê°€ ë¯¸í¡í•œ ê²½ìš° ì˜¤íˆë ¤ ì„±ëŠ¥ì´ ì €í•˜ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

3. **ë‚¨ìš©ì— ë”°ë¥¸ ì‹¤ìˆ˜**: ë¬´ë¶„ë³„í•œ ì‚¬ìš©ìœ¼ë¡œ ì¸í•´ ëª¨ë“  í•¨ìˆ˜ë‚˜ ê²°ê³¼ê°’ì„ ë©”ëª¨ì´ì œì´ì…˜í•˜ë ¤ í•  ë•Œ ì‹¤ìˆ˜ê°€ ë°œìƒí•  ê°€ëŠ¥ì„±ì´ ë†’ì•„ì§‘ë‹ˆë‹¤. ì´ë¡œ ì¸í•´ ì„±ëŠ¥ ìµœì í™”ë¥¼ ê¸°ëŒ€í•˜ëŠ” ëŒ€ì‹  ë²„ê·¸ë‚˜ ì„±ëŠ¥ ì €í•˜ë¥¼ ì´ˆë˜í•  ìˆ˜ ìˆëŠ” ìƒí™©ì´ ìƒê¸¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

## useCallbackê³¼ useMemoë¥¼ ì‚¬ìš©í•˜ê¸° ì¢‹ì€ ìƒí™©

:::note

ì•„ë˜ ì´ì–´ì§€ëŠ” ì½”ë“œëŠ” ë‹¨ìˆœ ì´í•´ë¥¼ ë•ê¸°ìœ„í•´ ì‘ì„±ëœ ğŸ’©ì½”ë“œë“¤ ì…ë‹ˆë‹¤. ê°œë…ë§Œ ì°¸ê³ í•´ì£¼ì‹œê¸¸ ë°”ëë‹ˆë‹¤.

:::

### ì˜ˆì‹œ 1: `useCallback`ì„ í™œìš©í•œ ì˜ì¡´ì„± ë°°ì—´ì˜ í•¨ìˆ˜ ì°¸ì¡°

í° ëª©ë¡ì„ ë Œë”ë§í•˜ëŠ” êµ¬ì„± ìš”ì†Œê°€ ìˆë‹¤ê³  ê°€ì •í•©ë‹ˆë‹¤.

```jsx
import React from 'react';
import useSearch from './fetch-items';

const MyBigList = React.memo(({ term, onItemClick }) => {
  const items = useSearch(term);

  return (
    <div>
      {items.map(item => (
        <div key={item.id} onClick={onItemClick}>
          {item.contents}
        </div>
      ))}
    </div>
  );
});

const MyParent = ({ term }) => {
  const onItemClick = useCallback(
    event => {
      console.log('You clicked ', event.currentTarget);
    },
    //highlight-next-line
    [term]
  );

  return <MyBigList term={term} onItemClick={onItemClick} />;
};
```

ëª©ë¡ì€ ìˆ˜ë°± ìˆ˜ì²œ ê°œì˜ í•­ëª©ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. `<MyBigList>`ê°€ ë‹¤ì‹œ ë Œë”ë§ë˜ëŠ” ê²ƒì„ ë°©ì§€í•˜ë ¤ë©´ ëª©ë¡ì„ `React.memo()`ë¡œ ê°ì‹¸ ë©”ëª¨ì´ì œì´ì…˜ í•´ì•¼í•©ë‹ˆë‹¤.

:::info

`React.memo()`ëŠ” propsê°€ ë™ì¼í•˜ë‹¤ë©´ ë¦¬ë Œë”ë§ ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

:::

memoê°€ ì œëŒ€ë¡œ ì‘ë™í•˜ê¸° ìœ„í•´ì„œ propsë¥¼ ë™ì¼í•˜ê²Œ ìœ ì§€í•˜ì—¬ì•¼ í•©ë‹ˆë‹¤. í•˜ì§€ë§Œ React ì»´í¬ë„ŒíŠ¸ì˜ ë‚´ë¶€ í•¨ìˆ˜ë“¤ì€ ë Œë”ë§ ë  ë•Œ ë§ˆë‹¤ ìƒˆë¡œìš´ í•¨ìˆ˜ë¥¼ ìƒì„±í•˜ê¸° ë•Œë¬¸ì— ëª¨ë‘ ë‹¤ë¥¸ ì°¸ì¡°ê°’ì„ ê°€ì§‘ë‹ˆë‹¤.

:::tip

í•¨ìˆ˜ëŠ” ê°ì²´ ì…ë‹ˆë‹¤.

```js
const a = 'a';
const a2 = 'a';

a === a2; // true

const f = () => console.log('f');
const f2 = () => console.log('f');

f === f2; // false

(() => console.log('f')) === (() => console.log('f')); // false
```

:::

`useCallback`ìœ¼ë¡œ `onItemClick`ì„ ê°ì‹¸ë©´ `term`ì´ ë°”ë€Œì§€ ì•ŠëŠ” ì´ìƒ ìƒˆë¡œ í•¨ìˆ˜ë¥¼ ë§Œë“¤ì§€ ì•Šì•„ ë™ì¼í•œ ì°¸ì¡°ë¥¼ ê°€ì§€ê²Œ ë©ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ `props`ë¡œ ì „ë‹¬í•œ `onItemClick` í•¨ìˆ˜ì˜ ë™ì¼ì„±ì„ ë³´ì¥í•˜ê³  í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ `MyBigList`ì˜ ë¶ˆí•„ìš”í•œ ë Œë”ë§ì„ ë°©ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì´ì™€ ê°™ì´ ì˜ì¡´ì„± ë°°ì—´ì— í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ ì°¸ì¡°ë¥¼ ë™ì¼í•˜ê²Œ ìœ ì§€í•˜ì—¬ì•¼ í•˜ê¸° ë•Œë¬¸ì— `useCallback`ì„ ì‚¬ìš©í•˜ì—¬ì•¼ í•©ë‹ˆë‹¤.

---

### ì˜ˆì‹œ 2: ë³µì¡í•œ ê³„ì‚°ì—ì„œì˜ `useMemo`

ë³µì¡í•œ ê³„ì‚°ì„ í•˜ëŠ” ì‘ì—…ì´ ìˆë‹¤ê³  ê°€ì •í•©ì‹œë‹¤. ì˜ˆì œì• ì„œëŠ” ê³±í•˜ê¸° ì—°ì‚°ìœ¼ë¡œ ëŒ€ì²´í•©ë‹ˆë‹¤.

```jsx
import { useState, useMemo } from 'react';

const expensiveCalculation = (a, b) => {
  // ë³µì¡í•˜ê³  ê¸¸ê³  ë¹„ìš©ì´ ë§ì´ ë“œëŠ” ì½”ë“œâ€¦
  return a * b;
};

const Calculator = ({ a, b }) => {
  const result = useMemo(() => expensiveCalculation(a, b), [a, b]);

  return <div>ê²°ê³¼ê°’: {result}</div>;
};

const App = () => {
  const [a, setA] = useState(5);
  const [b, setB] = useState(10);

  return (
    <div>
      <input
        type="number"
        value={a}
        onChange={e => setA(parseInt(e.target.value))}
      />
      <input
        type="number"
        value={b}
        onChange={e => setB(parseInt(e.target.value))}
      />
      <Calculator a={a} b={b} />
    </div>
  );
};

export default App;
```

ê°’ì„ ì…ë ¥í•˜ëŠ” ì…ë ¥ë€ì˜ ë³€í™”ì— ë”°ë¼ `a`ì™€ `b` ê°’ì´ ë³€ê²½ë˜ê³  `expensiveCalculation`ì´ ì‹¤í–‰ë©ë‹ˆë‹¤.

`useMemo`ë¥¼ ì‚¬ìš©í•˜ì—¬ `a`ì™€ `b`ê°€ ì‹¤ì œë¡œ ë³€ê²½ë  ë•Œë§Œ ê³„ì‚°ì„ ì‹¤í–‰í•˜ê³ , ì´ì „ ê²°ê³¼ê°’ì„ ìºì‹±í•˜ì—¬ ë¶ˆí•„ìš”í•œ ì—°ì‚°ì„ ë°©ì§€í•©ë‹ˆë‹¤.(`a`ì™€ `b`ë¥¼ ì˜ì¡´ì„± ë°°ì—´ì— í¬í•¨í•˜ì—¬ ë³€ê²½ë˜ëŠ” ê²½ìš°ì—ë§Œ `expensiveCalculation`ì„ í˜¸ì¶œ)

React ê³µì‹ë¬¸ì„œì— ë”°ë¥´ë©´ `useMemo`ëŠ” ë¹„ìš©ì´ ë§ì´ë“œëŠ” ê³„ì‚°ì„ ìºì‹±í•˜ê¸° ìœ„í•´ ì‚¬ìš©ë˜ëŠ” í›…ì´ë©°, **"ë¹„ìš©ì´ ë§ì´ ë“œëŠ” ê³„ì‚°"**ì˜ ì˜ˆë¡œ ìˆ˜ì²œ ê°œì˜ ê°ì²´ë¥¼ ë§Œë“¤ê±°ë‚˜ ë°˜ë³µí•´ì•¼ ì¼ì„ **"ë¹„ìš©ì´ ë§ì´ë“œëŠ” ê³„ì‚°"**ì´ë¼ í•˜ê³  ìˆìŠµë‹ˆë‹¤.

ëŒ€ë¶€ë¶„ì˜ ìƒí™©ì—ì„œëŠ” `useMemo`ë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” í¸ì´ ì„±ëŠ¥, ê°€ë…ì„± ì¸¡ë©´ì— ì´ì ì´ ìˆì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤.

---

## ê²°ë¡ 

> ëª¨ë“  ì¶”ìƒí™”(ë° ì„±ëŠ¥ ìµœì í™”)ì—ëŠ” ë¹„ìš©ì´ ë”°ë¥¸ë‹¤.

`useCallback`ê³¼ `useMemo`ëŠ” ì‹ ì¤‘í•˜ê²Œ ì‚¬ìš©ë˜ì–´ì•¼ í•˜ê³ , í•„ìš”í•œ ê²½ìš°ì—ë§Œ ì ìš©í•˜ì—¬ ì„±ëŠ¥ ìµœì í™”ë¥¼ ì¶”êµ¬í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤. ì§„ì§œ ì„±ëŠ¥ ì´ìŠˆê°€ ìˆëŠ” ê³³ì—ì„œë§Œ í•´ë‹¹ Hookì„ ì‚¬ìš©í•˜ê³ , ê·¸ ì™¸ì˜ ê²½ìš°ì—ëŠ” ë‹¤ë¥¸ ìµœì í™” ê¸°ë²•ì„ ì ìš©í•˜ëŠ” ê²ƒì„ ê³ ë ¤í•´ë´…ì‹œë‹¤.
